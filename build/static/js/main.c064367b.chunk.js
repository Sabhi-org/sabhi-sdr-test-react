(this["webpackJsonpsdr-form"]=this["webpackJsonpsdr-form"]||[]).push([[0],{118:function(e,t,a){},190:function(e,t,a){},323:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(26),c=a.n(n),i=(a(190),a(96)),l=a(22),o=a(17),j=a.n(o),d=a(28),m=a.p+"static/media/dark.e4d8b6e7.svg",b=(a(118),a(3));function u(){var e=Object(l.f)();return Object(s.useEffect)((function(){var t=setTimeout(Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/onboard");case 1:case"end":return t.stop()}}),t)}))),3e3);return function(){clearInterval(t)}}),[]),Object(b.jsx)("div",{class:"container",style:{display:"inline-flex",justifyContent:"center",alignItems:"center",width:"500px"},children:Object(b.jsx)("img",{src:m,width:"200px"})})}a(64);var p=a(30),h=(a(336),a(331),a(334),a(180)),x=a(326),O=a(332),g=a(327),f=a(328),y=a(333),I=(a(329),a(338),a(339),a(40));var v=a(337),w=a(335),N=a(330),D=a(85),C=a(340);function z(){var e,t=localStorage.getItem("DID"),a=Object(l.f)(),r=O.a.useForm(),n=Object(p.a)(r,1)[0],c=Object(s.useState)("false"),i=Object(p.a)(c,2),o=i[0],m=i[1],u=Object(s.useState)({}),h=Object(p.a)(u,2),z=h[0],k=h[1],S=function(){var e=Object(d.a)(j.a.mark((function e(){var a,s,r,c,i,l,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,I.sabhiApiInstance.get("ocr/".concat(t));case 4:a=e.sent,s=a.data.data[0],r=s.identityCardFrontData,c=s.identityCardBackData,i=s.profileImage,l=s.identityCardFrontImage,o=s.identityCardBackImage,k({profileImage:i,identityCardFrontImage:l,identityCardBackImage:o}),n.setFieldsValue({fullName:r.nameEnglish,fatherName:r.fatherNameEnglish,gender:r.gender,countryOfStay:r.countryOfStay,identityNumber:r.identityNumber,issueDate:r.dateOfIssue,birthDate:r.dateOfBirth,expireDate:r.dateOfExpiry,permanentAddress:c.permenantAddress,temporaryAddress:c.presentAddress}),m(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){S()}),[]);var A=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.apiInstance.post("vp",t);case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{children:Object(b.jsx)(v.b,{size:"large",children:Object(b.jsx)(x.a,{spinning:o,children:Object(b.jsxs)(O.a,{style:{marginTop:"18px"},layout:"vertical",form:n,name:"basic",onFinish:function(e){m(!0),e.profileImage=z.profileImage,e.did=t,e.identityCardBackImage=z.identityCardBackImage,e.identityCardFrontImage=z.identityCardFrontImage,A(e),m(!1),a.push({pathname:"/user_profile"})},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(b.jsxs)(g.a,{children:[Object(b.jsx)(f.a,{span:4,children:Object(b.jsx)(w.a,{style:{marginTop:"18px"},src:Object(b.jsx)(N.a,{src:null!==(e=z.profileImage)&&void 0!==e?e:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),size:140})}),Object(b.jsxs)(f.a,{span:20,children:[Object(b.jsxs)(g.a,{gutter:16,children:[Object(b.jsx)(f.a,{className:"gutter-row",span:2}),Object(b.jsx)(f.a,{className:"gutter-row",span:11,children:Object(b.jsx)(O.a.Item,{label:"Name",name:"fullName",rules:[{required:!0,message:"Please enter Complete Name"}],children:Object(b.jsx)(y.a,{size:"small"})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:11,children:Object(b.jsx)(O.a.Item,{label:"Father Name",name:"fatherName",rules:[{required:!0,message:"Please enter Father Name"}],children:Object(b.jsx)(y.a,{size:"small"})})})]}),Object(b.jsxs)(g.a,{gutter:16,offset:4,children:[Object(b.jsx)(f.a,{className:"gutter-row",span:2}),Object(b.jsx)(f.a,{className:"gutter-row",span:11,children:Object(b.jsx)(O.a.Item,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please enter gender"}],children:Object(b.jsx)(y.a,{size:"small"})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:11,children:Object(b.jsx)(O.a.Item,{label:"Country of Stay",name:"countryOfStay",rules:[{required:!0,message:"Please enter the country of stay"}],children:Object(b.jsx)(y.a,{size:"small"})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:6})]})]})]}),Object(b.jsxs)(g.a,{children:[Object(b.jsxs)(g.a,{gutter:22,children:[Object(b.jsx)(f.a,{className:"gutter-row",span:6,children:Object(b.jsx)(O.a.Item,{label:"Identity Number",name:"identityNumber",rules:[{required:!0,message:"Enter the Identity Number"}],children:Object(b.jsx)(y.a,{size:"small"})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:6,children:Object(b.jsx)(O.a.Item,{label:"Date of Issue",name:"issueDate",rules:[{required:!0,message:"Enter Date of Issue"}],children:Object(b.jsx)(y.a,{size:"small"})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:6,children:Object(b.jsx)(O.a.Item,{label:"Date of Birth",name:"birthDate",rules:[{required:!0,message:"Enter Date of Birth"}],children:Object(b.jsx)(y.a,{size:"small"})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:6,children:Object(b.jsx)(O.a.Item,{label:"Date of Expiry",name:"expireDate",rules:[{required:!0,message:"Enter expiry Date"}],children:Object(b.jsx)(y.a,{size:"small"})})})]}),Object(b.jsxs)(f.a,{span:24,children:[Object(b.jsx)(O.a.Item,{label:"Permanent Address",name:"permanentAddress",rules:[{required:!0,message:"Please enter permanent address"}],children:Object(b.jsx)(y.a,{size:"small"})}),Object(b.jsx)(O.a.Item,{label:"Temporary Address",name:"temporaryAddress",rules:[{required:!0,message:"Please enter temporary address"}],children:Object(b.jsx)(y.a,{size:"small"})})]})]}),Object(b.jsx)(g.a,{children:Object(b.jsx)(f.a,{span:4,offset:10,children:Object(b.jsx)(O.a.Item,{children:Object(b.jsxs)(D.a,{type:"primary",htmlType:"submit",shape:"round",size:"large",block:!0,children:[Object(b.jsx)(C.a,{}),"Submit"]})})})})]})})})})}var k=a(174),S=a(129),A=a.n(S);function B(){var e,t=localStorage.getItem("DID");console.log(localStorage.getItem("DID"));var a=Object(s.useState)(""),r=Object(p.a)(a,2),n=(r[0],r[1]),c=O.a.useForm(),i=Object(p.a)(c,1)[0],l=Object(s.useState)("false"),o=Object(p.a)(l,2),m=o[0],u=o[1],D=Object(s.useState)(null),C=Object(p.a)(D,2),z=(C[0],C[1],Object(s.useState)({})),S=Object(p.a)(z,2),B=S[0],F=S[1];Object(s.useEffect)((function(){!function(){q.apply(this,arguments)}()}),[]);var E,T="";function q(){return(q=Object(d.a)(j.a.mark((function e(){var a,s,r,n,c,l,o,d,m,b,p,x,O;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,I.sabhiApiInstance.get("application/".concat(t));case 4:a=e.sent,console.log(a.data.data[0]),s=a.data.data[0],r=s.fullName,n=s.fatherName,c=s.profileImage,l=s.countryOfStay,o=s.gender,d=s.identityNumber,m=s.issueDate,b=s.birthDate,p=s.expireDate,x=s.permanentAddress,O=s.temporaryAddress,F({profileImage:c}),i.setFieldsValue({fullName:r.value,fatherName:n.value,gender:o.value,countryOfStay:l.value,identityNumber:d.value,issueDate:m.value,birthDate:b.value,expireDate:p.value,permanentAddress:x.value,temporaryAddress:O.value}),u(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),h.b.error("something went wrong!",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){E=Object(k.io)("http://localhost:12345/"),console.log(E),E.on("chat",(function(e){console.log(e)})),E.on("displayOmniCheck",(function(e){console.log(e),T=e.message,n(e.message),function(){var e=A.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Please confirm following",html:"".concat(T),allowOutsideClick:!1,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, it is me",cancelButtonText:"No,it is not me",reverseButtons:!0}).then((function(t){t.isConfirmed?(console.log("i am confirmed !!! "),E.emit("omniResponse",{status:!0,message:"omni is accepted!"}),e.fire("Confirmed!","Your data has been confirmed","success")):t.dismiss===A.a.DismissReason.cancel&&(console.log("i am rejected !!!"),E.emit("omniResponse",{status:!1,message:"omni is rejected!"}),e.fire("Cancelled","Your data could not be confirmed :(","error"))}))}()}))}),[]),Object(b.jsx)("div",{children:Object(b.jsx)(v.b,{size:"large",children:Object(b.jsxs)(x.a,{spinning:m,children:[Object(b.jsxs)(O.a,{style:{marginTop:"18px"},layout:"vertical",form:i,name:"basic",children:[Object(b.jsxs)(g.a,{children:[Object(b.jsx)(f.a,{span:4,children:Object(b.jsx)(w.a,{style:{marginTop:"18px"},src:Object(b.jsx)(N.a,{src:null!==(e=B.profileImage)&&void 0!==e?e:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),size:140})}),Object(b.jsxs)(f.a,{span:20,children:[Object(b.jsxs)(g.a,{gutter:16,children:[Object(b.jsx)(f.a,{className:"gutter-row",span:2}),Object(b.jsx)(f.a,{className:"gutter-row",span:11,children:Object(b.jsx)(O.a.Item,{label:"Name",name:"fullName",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:11,children:Object(b.jsx)(O.a.Item,{label:"Father Name",name:"fatherName",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})})})]}),Object(b.jsxs)(g.a,{gutter:16,offset:4,children:[Object(b.jsx)(f.a,{className:"gutter-row",span:2}),Object(b.jsx)(f.a,{className:"gutter-row",span:11,children:Object(b.jsx)(O.a.Item,{label:"Gender",name:"gender",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:11,children:Object(b.jsx)(O.a.Item,{label:"Country of Stay",name:"countryOfStay",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:6})]})]})]}),Object(b.jsxs)(g.a,{children:[Object(b.jsxs)(g.a,{gutter:22,children:[Object(b.jsx)(f.a,{className:"gutter-row",span:6,children:Object(b.jsx)(O.a.Item,{label:"Identity Number",name:"identityNumber",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:6,children:Object(b.jsx)(O.a.Item,{label:"Date of Issue",name:"issueDate",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:6,children:Object(b.jsx)(O.a.Item,{label:"Date of Birth",name:"birthDate",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})})}),Object(b.jsx)(f.a,{className:"gutter-row",span:6,children:Object(b.jsx)(O.a.Item,{label:"Date of Expiry",name:"expireDate",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})})})]}),Object(b.jsxs)(f.a,{span:24,children:[Object(b.jsx)(O.a.Item,{label:"Permanent Address",name:"permanentAddress",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})}),Object(b.jsx)(O.a.Item,{label:"Temporary Address",name:"temporaryAddress",children:Object(b.jsx)(y.a,{size:"small",disabled:!0})})]})]})]}),Object(b.jsx)(g.a,{children:"Verified By: XYZ"})]})})})}var F=a.p+"static/media/onboarding.80f4a645.png";function E(){var e=Object(l.f)(),t=function(){var t=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{h.b.loading("creating identity...").then(Object(d.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.apiInstance.get("did");case 2:(a=t.sent)&&(localStorage.setItem("DID",a.data.did),console.log(localStorage.getItem("DID")),h.b.success("Identity created succesfully!").then((function(){return h.b.loading("redirecting...",1).then((function(){return e.push("/ocr")}))})));case 4:case"end":return t.stop()}}),t)}))))}catch(a){h.b.error("something went wrong please try again!")}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsxs)("div",{class:"container",style:{display:"inline-flex",justifyContent:"center",alignItems:"center",width:"500px",height:"500px"},children:[Object(b.jsx)("img",{src:F,width:"200px"}),Object(b.jsx)(D.a,{type:"primary",shape:"round",style:{position:"absolute",top:"550px",background:"#4DDFBC",bordeRadius:"16px",borderColor:"#4DDFBC"},size:"large",onClick:t,children:"Create Identity"})]})}var T=a(175),q=a(176),P=a(112),R=a(184),Y=a(179),V=a(177),X=a.n(V),L=function(e){Object(R.a)(a,e);var t=Object(Y.a)(a);function a(e){var s;return Object(T.a)(this,a),(s=t.call(this,e)).state={pictures:[]},s.onDrop=s.onDrop.bind(Object(P.a)(s)),s}return Object(q.a)(a,[{key:"onDrop",value:function(e,t){console.log(e),console.log(t),this.setState({pictures:e})}},{key:"render",value:function(){return Object(b.jsx)(X.a,{withIcon:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".png","jpeg"],maxFileSize:5242880,singleImage:!0,withPreview:!0})}}]),a}(r.a.Component);function _(){return Object(b.jsx)("div",{className:"App",style:Object(i.a)({background:"rgb(95, 130, 189)"},"background","linear - gradient(180deg, rgba(95, 130, 189, 1) 0 %, rgba(47, 77, 125, 1) 100 %)"),children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/",component:u,exact:!0}),Object(b.jsx)(l.a,{path:"/onboard",component:E}),Object(b.jsx)(l.a,{path:"/ocr",component:L}),Object(b.jsx)(l.a,{path:"/form_sdr",component:z}),Object(b.jsx)(l.a,{path:"/user_profile",component:B})]})})}a(319),a(320),a(321),a(322);var G=a(57);c.a.render(Object(b.jsx)(G.a,{children:Object(b.jsx)(_,{})}),document.getElementById("root"))},40:function(e,t,a){var s=a(196),r=s.create({baseURL:"https://client-server-veramo.herokuapp.com/"}),n=s.create({baseURL:"https://sabhi-task.com/"});e.exports={apiInstance:r,sabhiApiInstance:n}}},[[323,1,2]]]);
//# sourceMappingURL=main.c064367b.chunk.js.map